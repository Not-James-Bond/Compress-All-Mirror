import ILovePDFTool from '../types/ILovePDFTool';
import Auth from '../auth/Auth';
import XHRInterface from '../utils/XHRInterface';
import BaseFile from './BaseFile';
import TaskI, { ResponsesI, StatusI } from './TaskI';
export declare type TaskParams = {
    id?: string;
    server?: string;
    files?: Array<BaseFile>;
};
export default abstract class Task implements TaskI {
    abstract type: ILovePDFTool;
    readonly responses: ResponsesI;
    protected server: string;
    protected files: Array<BaseFile>;
    protected auth: Auth;
    protected xhr: XHRInterface;
    private _id;
    /**
     *
     * @param publicKey - API public key.
     * @param secretKey - API private key.
     * @param makeStart - If true, start is called on instantiate a Task.
     */
    constructor(auth: Auth, xhr: XHRInterface, params?: TaskParams);
    get id(): string;
    /**
     * @inheritdoc
     */
    abstract getStatus(): Promise<StatusI>;
    /**
     * @inheritdoc
     */
    start(): Promise<this>;
    /**
     * @inheritdoc
     */
    addFile(file: BaseFile | string): Promise<this>;
    private uploadFromUrl;
    private getBasename;
    private uploadFromFile;
    /**
     * @inheritdoc
     */
    deleteFile(file: BaseFile): Promise<TaskI>;
    /**
     * @inheritdoc
     */
    getFiles(): Array<BaseFile>;
    /**
     * @inheritdoc
     */
    abstract process(params?: Object): Promise<TaskI>;
    protected getFilesBodyFormat(): ProcessFilesBody;
    /**
     * @inheritdoc
     */
    download(): Promise<string>;
    /**
     * @inheritdoc
     */
    delete(): Promise<this>;
    /**
     * @inheritdoc
     */
    connect(nextTool: ILovePDFTool): Promise<TaskI>;
}
declare type ProcessFilesBody = Array<{
    server_filename: string;
    filename: string;
    rotate?: number;
    password?: string;
}>;
export {};
